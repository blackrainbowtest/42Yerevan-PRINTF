# 42Yerevan-PRINTF

## ิปีถีน ีง ีกีถีธึีด ีฝีฟีกีถีคีกึีฟ printf ึีธึีฏึีซีกีถี

ีก) ีฏีกึีคีธึีด ีง ึีธีญีกีถึีพีกีฎ ีฟีธีฒีจ ึ ีธึีธีถีธึีด ีฑึีกีนีกึีกีตีซีถ ีขีถีธึีฉีกีฃึีซีนีถีฅึีจ `(ัะพัะผะฐัะฝัะต ัะฟะตัะธัะธะบะฐัะพัั)`  
ีข) ึีธีญีกึีซีถีธึีด ีง ีฑึีกีนีกึีกีตีซีถ ีขีถีธึีฉีกีฃึีซีนีถีฅึีจ ึีธีญีกีถึีพีกีฎ ีกึีชีฅึีถีฅึีธีพ  

## ีีกึีฆ ีขีถีธึีฉีกีฃึีซีนีถีฅึีซ ีฟีฅีฝีกีฏีถีฅึีจี

**`%s`** - ีฟีธีฒ  
**`%d`** - ีฟีกีฝีถีธึีคีกีฏีกีถ ีฉีซีพ  
**`%i`** - ีฟีกีฝีถีธึีคีกีฏีกีถ ีฉีซีพ  
**`%u`** - ีกีผีกีถึ ีถีทีกีถีซ ีฉีซีพ  
**`%x`** - ีฟีกีฝีถีพีฅึีกีฏีกีถ ีฉีซีพ  
**`%X`** - ีฟีกีฝีถีพีฅึีกีฏีกีถ ีฉีซีพ ีดีฅีฎีกีฟีกีผ  
**`%p`** - ึีธึึีซีน  
**`%%`** - ีฟีธีฏีธีฝีซ ีฝีซีดีพีธีฌีจ 

## printf -ีจ ึีธึีธีญีกีฏีกีถ ึีธึีถีฏึีซีก ีง (variatic function)

ีีธีพีธึีกีฏีกีถ ึีธึีถีฏึีซีกีถีฅึีจ ีจีถีคีธึีถีธึีด ีฅีถ ึีซึีฝีพีกีฎ ึีกีถีกีฏีซ ึีธึีธีญีกีฏีกีถีถีฅึ, ีฏีกีด ีนีฅีถ ีจีถีคีธึีถีธึีด ีธีน ีดีซ ึีธึีธีญีกีฏีกีถ, ีซีฝีฏ ีกีตีถ ีคีฅีบึีฅึีธึีด, ีฅึีข ีซีฝีฏีฆีขีกีถีฅ ีกีฏีถีฐีกีตีฟ ีนีง, ีฉีฅ ึีกีถีซ ึีธึีธีญีกีฏีกีถ ีฏีกึีธีฒ ีง ีดีธึีฟึีกีฃึีพีฅีฌ ึีธึีถีฏึีซีกีซ ีดีฅีป, ีฏีซึีกีผีธึีด ีฅีถ (โคโคโค) ีขีกีฆีดีกีฏีฅีฟีฅึีจึ 

**ิฟีกึึีธึ ีง**, ีถีกีญึีกีถ ีขีกีฆีดีกีฏีฅีฟีฅึีจ ีบีฅีฟึ ีง ีฐีกีตีฟีกึีกึีพีกีฎ ีฌีซีถีซ ีกีผีถีพีกีฆีถ ีดีฅีฏ ีฐีกีฟ ึีซึีฝีพีกีฎ ึีธึีธีญีกีฏีกีถ (ีฝีธีพีธึีกีขีกึ ีกีตีถ ีซึีฅีถีซึ ีถีฅึีฏีกีตีกึีถีธึีด ีง ึีธีญีกีถึีพีกีฎ ีกึีฃีธึีดีฅีถีฟีถีฅึีซ ึีกีถีกีฏีจ), ีฐีกีฏีกีผีกีฏ ีคีฅีบึีธึีด ีฏีกีฆีดีกึีฏีซีนีจ (ีฏีธีดีบีซีฌีกีฟีธึีจ) ีนีซ ีฏีกึีธีฒ ีฐีกีฝีฏีกีถีกีฌ ีฉีฅ ีซีถีนีซึ ีบีฅีฟึ ีง ีฝีฏีฝีซ ีกีทีญีกีฟีกีถึีจึ

## ีีกึีฏีกีถีซีทีกีตีซีถ ีฟีพีตีกีฌีถีฅึีซ ีทีกึีกีคึีพีกีฎีธึีฉีตีธึีถี va_list, va_start, va_arg, va_end (variatic macroses)

ีึีบีฅีฝ ึีธึีธีญีกีฏีกีถ ึีธึีถีฏึีซีกีถีฅึีซ ีฃีธึีฎีซึีถีฅึ, C-ีธึีด ึีฃีฟีกีฃีธึีฎีพีธึีด ีฅีถ ีฐีกีฟีธึีฏ ีฟีกึึีฅึี `va_list`, `va_start`, `va_arg`, `va_end`:

`va_list` โ ีฐีกีฟีธึีฏ ีฟีซีบ, ีธึีจ ึีฃีฟีกีฃีธึีฎีพีธึีด ีง ีฟีกึีขีฅึ ีนีกึีฝีฅึีธีพ ีฏีกีด ีฟีฅีฝีกีฏีถีฅึีธีพ ีฟีพีตีกีฌีถีฅึ ีบีกีฐีฅีฌีธึ ีฐีกีดีกึ:

`va_start(va_list ap, last_fixed_argument)` โ ีกีตีฝ ึีธึีถีฏึีซีกีถ ีฝีฏีฝีธึีด ีง ีฐีกีฝีกีถีฅีฌีซ ีคีกึีฑีถีฅีฌ ึีธึีถีฏึีซีกีตีซีถ ึีธีญีกีถึีพีกีฎ ีขีกีฆีดีกีฏีซ ึีธึีธีญีกีฏีกีถีถีฅึีซีจ va_list-ีธึีดึ ิฑีตีถ ีบีฅีฟึ ีง ีฏีกีถีนีพีซ ึีธึีถีฏึีซีกีตีซ ีฟึีกีดีกีขีกีถีกีฏีกีถ ีดีกีฝีซ ีฝีฏีฆีขีธึีดึ

`va_arg(va_list ap, type)` โ ีกีตีฝ ึีธึีถีฏึีซีกีถ ึีฃีถีธึีด ีง ีฝีฟีกีถีกีฌ ีฐีกีปีธึีค ีกึีฃีธึีดีฅีถีฟีจ va_list-ีซึ ึ ีพีฅึีกีคีกึีฑีถีฅีฌ ีกีตีถ ีถีทีพีกีฎ ีฟีซีบีธีพ (type).

`va_end(va_list ap)` โ ีกีตีฝ ึีธึีถีฏึีซีกีถ ีบีฅีฟึ ีง ีฏีกีถีนีฅีฌ ึีธึีถีฏึีซีกีตีซ ีฟึีกีดีกีขีกีถีกีฏีกีถ ีพีฅึีปีธึีด, ีธึีบีฅีฝีฆีซ ึีกีฏีพีซ va_list-ีซ ีกีทีญีกีฟีกีถึีจึ ิฑีตีถ ึีฃีฟีกีฃีธึีฎีพีธึีด ีง ีฐีซีทีธีฒีธึีฉีตีกีถ ีกีฆีกีฟีดีกีถ ีฐีกีดีกึึ

## ีีฅึีปีถีกีฏีกีถ ีดีฅีฏีถีกีขีกีถีธึีฉีตีธึีถ

ิฑีตีฝีบีซีฝีธีพ, `printf`-ีซ ีกีทีญีกีฟีกีถึีจ ีถีฅึีกีผีธึีด ีง ีฑึีกีนีกึีกีตีซีถ ีขีถีธึีฉีกีฃึีซีนีถีฅึีซ ึีฃีฟีกีฃีธึีฎีธึีดีจ ึ ีคึีกีถึ ึีธีญีกึีซีถีธึีดีจ ึีธีญีกีถึีพีกีฎ ีกึีชีฅึีถีฅึีธีพึ ีีซึีถีธึีตีถ ีชีกีดีกีถีกีฏ, ึีธึีธีญีกีฏีกีถ ึีธึีถีฏึีซีกีถีฅึีซ ึีฃีฟีกีฃีธึีฎีธึีดีจ ีฐีถีกึีกีพีธึีธึีฉีตีธึีถ ีง ีฟีกีฌีซีฝ ีฟีธีฒีธึีด ึีธึีธีญีกีฏีกีถ ึีกีถีกีฏีธึีฉีตีกีดีข ีฟีพีตีกีฌีถีฅึ ึีธีญีกีถึีฅีฌ, ีซีถีนีจ ีดีฅีฎีกึีถีธึีด ีง ึีธึีถีฏึีซีกีตีซ ีณีฏีธึีถีธึีฉีตีธึีถีถ ีธึ ีฐีถีกึีกีพีธึีธึีฉีตีธึีถีถีฅึีจ:

### ิปีถีน ีบีฅีฟึ ีง ีธึีฝีธึีดีถีกีฝีซึีฅีดี

`C type promotion`, `Default promotion` - ินีธึีตีฌ ีฏีฟีก ีฐีกีฝีฏีกีถีกีฌ ีฉีฅ ีซีถีนีธึ ีง `ft_write_char(va_arg(ap, int))` ีกีตีฝ ีกึีฟีกีฐีกีตีฟีธึีฉีตีธึีถีธึีด ีฟีกีผ ีฟีบีฅีฌีธึ ีฐีกีดีกึ ึีธีญีกีถึีธึีด ีฅีถึ ีฟีพีตีกีฌีซ ีฟีซีบีจ ีธีน ีฉีฅ <span style="color: skyblue;">**`char`**</span> ีกีตีฌ <span style="color: red;">**`int`**</span>:

## <span style="color: #10F4DC;">ะกัะตะฟะตะฝะธ ะดะฒะพะนะบะธ ะดะปั ัะธะฟะพะฒ ะฒ C</span>

| ะขะธะฟ ะดะฐะฝะฝัั           | ะะพะปะธัะตััะฒะพ ะฑะธั | ะะฐะบัะธะผะฐะปัะฝะพะต ะทะฝะฐัะตะฝะธะต                     | ะคะพัะผัะปะฐ (2^N) |
|----------------------|--------------|----------------------------------------|--------------|
| `char`              | 8 ะฑะธั        | 2โธ = 256 (ะพั 0 ะดะพ 255 ะดะปั `unsigned`) | 2โธ |
| `signed char`       | 8 ะฑะธั        | 2โท = 128 (ะพั -128 ะดะพ 127)             | 2โท |
| `unsigned char`     | 8 ะฑะธั        | 2โธ = 256 (ะพั 0 ะดะพ 255)                | 2โธ |
| `short`            | 16 ะฑะธั       | 2ยนโถ = 65536 (ะพั -32,768 ะดะพ 32,767)    | 2ยนโถ |
| `unsigned short`    | 16 ะฑะธั       | 2ยนโถ = 65536 (ะพั 0 ะดะพ 65535)           | 2ยนโถ |
| `int`              | 32 ะฑะธัะฐ      | 2ยณยฒ = 4,294,967,296 (ะพั -2,147,483,648 ะดะพ 2,147,483,647) | 2ยณยฒ |
| `unsigned int`     | 32 ะฑะธัะฐ      | 2ยณยฒ = 4,294,967,296 (ะพั 0 ะดะพ 4,294,967,295) | 2ยณยฒ |
| `long`            | 32 ะธะปะธ 64 ะฑะธัะฐ | ะ ะทะฐะฒะธัะธะผะพััะธ ะพั ัะธััะตะผั              | 2ยณยฒ ะธะปะธ 2โถโด |
| `unsigned long`    | 32 ะธะปะธ 64 ะฑะธัะฐ | ะ ะทะฐะฒะธัะธะผะพััะธ ะพั ัะธััะตะผั              | 2ยณยฒ ะธะปะธ 2โถโด |
| `long long`        | 64 ะฑะธัะฐ      | 2โถโด = 18,446,744,073,709,551,616      | 2โถโด |
| `unsigned long long` | 64 ะฑะธัะฐ | 2โถโด = 18,446,744,073,709,551,616      | 2โถโด |

## <span style="color: #10F4DC;">ะะพะดะฒะพะดะฝัะต ะบะฐะผะฝะธ</span>

### ิปีถีนีธึ `char`-ีจ ึ `short`-ีจ ีพีฅึีกีฎีพีธึีด ีฅีถ `int`-ีซ `va_arg()`-ีธึีด

ิดึีก ีบีกีฟีณีกีผีจ ีกีดีขีธีฒีป ีฉีพีฅึีซ ีกีผีกีปีญีกีฒีกึีธึีดีถ ีง `(integer promotion)`, ีธึีจ ีฝีกีฐีดีกีถีพีกีฎ ีง C ีฝีฟีกีถีคีกึีฟีธีพึ

๐น `ีีกีฟีดีกีฏีกีถ ีบีกีฟีณีกีผ`:

ีีกีฒ ีบึีธึีฅีฝีธึีถีฅึีจ `int`-ีถ ีกีพีฅีฌีซ ีกึีคีตีธึีถีกีพีฅีฟ ีงีซีถ ีดีทีกีฏีธึีด, ึีกีถ `char`-ีจ ีฏีกีด `short`-ีจ, ีธึีฝีฟีซ `C` ีฝีฟีกีถีคีกึีฟีจ ีฝีกีฐีดีกีถีธึีด ีงึ, ีธึ `int`-ีซึ ึีธึึ ีขีธีฌีธึ ีฟีซีบีฅึีจ ีบีฅีฟึ ีง ีกีพีฟีธีดีกีฟ ีฏีฅึีบีธีพ ีจีถีคีฌีกีตีถีพีฅีถ `int`-ีซ, ีฅึีข ึีธีญีกีถึีพีฅีถ `...`:

๐น ีีกีทีฟีธีถีกีฏีกีถ ีฏีกีถีธีถ.

ิตีฉีฅ โโีฟีฅีฝีกีฏีจ ีฏีกึีธีฒ ีง ีถีฅึีฏีกีตีกึีพีฅีฌ ีธึีบีฅีฝ `int`, ีกีตีถ ีกีพีฟีธีดีกีฟ ีฏีฅึีบีธีพ ีจีถีคีฌีกีตีถีพีธึีด ีง ีดีซีถีนึ `int`: ิตีฉีฅ โ`unsigned short` ีนีซ ีฟีฅีฒีกีพีธึีพีธึีด `int`-ีซ ีดีฅีป, ีกีตีถ ีฌีกีตีถีกึีพีธึีด ีง ีดีซีถีนึ `unsigned int`:

๐น ิปีีถีน ีฏีฌีซีถีซ, ีฅีฉีฅ ีฅีฝ ึีธีญีกีถึีฅีด `char` ีฏีกีด `short` `va_arg()`-ีซีถ ีกีตีถีบีฅีฝ, ีซีถีนีบีฅีฝ ีฏีก:

`va_arg(ap, char)` ีฏีกีด `va_arg(ap, short)` ึีธีญีกีถึีธึีดีจ ีฏีฐีกีถีฃีฅึีถีซ ีนีฝีกีฐีดีกีถีพีกีฎ ีพีกึึีกีฃีฎีซ, ึีกีถีซ ีธึ `va_arg()`-ีถ ีกีฏีถีฏีกีฌีธึีด ีง `int`, ีขีกีตึ ึีถีฟึีธึีด ีง `char` ีฏีกีด `short`, ีธึีจ ีกึีฃีธึีดีฅีถีฟีซ ีฏีธึีตีฟีธึีด `(argument stack)` ีนีง:

### ิปีฝีฏ ีฅีฉีฅ ึีธีญีกีถึีฅีถึ `long`, `long long` ีฏีกีด `float`?

ิตีฉีฅ ึีธีญีกีถึีฅีถึ `long`, `long long`, `float` ีฅึ ีกีตีฌ ีฟีซีบีฅึ, ีกีบีก ีถึีกีถึ ีซึีฅีถึ ีกีตีฌ ีฏีฅึีบ ีฅีถ ีคึีฝีฅึีพีธึีธึีด`

`long` ะธ `long long` ะฝะต ะธะทะผะตะฝััััั, ัะฐะบ ะบะฐะบ ะพะฝะธ ะฑะพะปััะต `int` ะธ ะฝะต ะฟะพะดะฟะฐะดะฐัั ะฟะพะด `integer promotion`.
`float` ะฟัะตะฒัะฐัะฐะตััั ะฒ `double`, ะฟะพัะพะผั ััะพ ะฒ `...` `float` ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะฐััะธััะตััั ะดะพ `double`.